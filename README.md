> 构建过程是复杂前端项目必不可少的环节；但 业务代码 与 公用代码（如：封装的库、组件、工具等被复用的代码）的构建需求是不一样的；我发现很多 npm 贡献者都没意识到这一点，他们用传统的业务项目的 webpack 配置 去打包 公用代码，虽然能运行，但实际潜藏着许多问题；甚至都不经过编译构建，直接发布单纯的源码到 npm 上；

**注意：**  
为了方便下文描述，我把 **业务代码** 构建出的最终产品称为 **应用程序**；把 **公用代码** 构建的出产品称为 **组件**；

# 业务代码与公用代码的构建特点

## 业务代码
- 需要把所有代码及依赖（包括 公用代码）都构建在一块，作为一个整体来运行；
    因为业务代码是最终呈现效果的应用程序，是一个完整的代码逻辑，任何依赖缺失都会导致应用程序的崩溃；

- 运行环境单一；
    业务代码构建的应用程序要么是运行在浏览器的，要么是运行在 node 环境的；因为业务产品是最终供大众用户使用的，在开发业务产品（应用程序）之初，就已确定了业务产品的运行环境；

- 有较强的包尺寸的限制；
    因为大部分应用程序是运行在浏览器的，较大的尺寸会使应用程序加载时间过长，从而影响用户体验，所以，一般应用程序都要求包的尺寸尽可能地小；

- 业务代码中通常包含 HTML、CSS、JavaScript 文件；
- CSS 和 JavaScript 文件通常都需要在 HTML 文件中引入；
    浏览器端的应用程序都是以HTML文件为入口的；

## 公用代码
- 需要把依赖踢除；

- 运行环境多样；

- 对包尺寸的没有特别强列的要求；

- 通常不包含 HTML 文件；
- CSS 和 JavaScript 文件通常分开；



# 构建工具的选择


# 配置的目标

# 目录结构

# 配置说明



